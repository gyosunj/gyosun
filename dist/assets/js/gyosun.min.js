/* Gyosun Jung |  MIT | 2015-04-10 */
var YeSeul={};!function(a,b,c,d){"use strict";"function"!=typeof Object.create&&(Object.create=function(a){var b=function(){};return b.prototype=a,new b});var e,f={VERSION:"0.0.1"};e=f,b.YeSeul=d.extend(a,f)}(YeSeul,window,document,window.jQuery),YeSeul.ingredient={currentUrl:function(){var a=window.location.href.toString().split(window.location.host)[1];return a.toString()},punchClock:{_this:this.YeSeul,getNow:function(){return new Date},year:function(){var a=this.getNow().getFullYear();return a.toString()},month:function(){var a=this.getNow().getMonth()+1;return this._this.ingredient.padLeft(a,2)},monthName:function(){var a=["January","February","March","April","May","June","July","August","September","October","November","December"],b=this.getNow().getMonth();return a[b]},date:function(){var a=this.getNow().getDate();return this._this.ingredient.padLeft(a,2)},day:function(){var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=this.getNow().getDay();return a[b]},hour:function(){var a=this.getNow().getHours();return this._this.ingredient.padLeft(a,2)},min:function(){var a=this.getNow().getMinutes();return this._this.ingredient.padLeft(a,2)},sec:function(){var a=this.getNow().getSeconds();return this._this.ingredient.padLeft(a,2)},now:function(){var a={fDateTime:this.year()+this.month()+this.date()+this.hour()+this.min()+this.sec(),year:this.year(),month:this.month(),monthName:this.monthName(),date:this.date(),hour:this.hour(),min:this.min(),sec:this.sec(),day:this.day()};return a}},padLeft:function(a,b){function c(a,b){return a.length<b?c("0"+a,b):a}return"undefined"!=a&&"undefined"!=b?(a=a.toString(),c(a,b)):"error"},objLength:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&++b;return b},orderBy:function(a,b,c){var d=a.toUpperCase();return d="DESC"===d?-1:1,function(a,e){var f=a[b][c]<e[b][c]?-1:a[b][c]>e[b][c]?1:0;return f*d}}},YeSeul.restaurant={},YeSeul.menu=function(){},YeSeul.menu.prototype.run=function(){this.init()},YeSeul.menu.prototype.init=function(){var a,b,c=this;$(document).ready(function(){a=document.location.pathname,b=window.location.hash,c.changeRoute(b||a)}),$(window).on("hashchange",function(){b=window.location.hash,c.changeRoute(b)})},YeSeul.menu.prototype.changeRoute=function(a){switch(a){case"":$(this.route.empty.renderTarget).text(a);break;default:$(this.route.empty.renderTarget).text(a)}},YeSeul.menu.prototype.route={empty:{thisName:"index",renderTemplate:"",renderTarget:"html",onNav:!1}},YeSeul.appetizer=function(){},YeSeul.appetizer.prototype.PostClass=function(){var a;Object.defineProperty(this,"id",{get:function(){return a},set:function(b){a=b},enumerable:!0});var b;Object.defineProperty(this,"title",{get:function(){return b},set:function(){b="test"},enumerable:!0});var c;Object.defineProperty(this,"excerpt",{get:function(){return c},set:function(a){c=a},enumerable:!0});var d;Object.defineProperty(this,"content",{get:function(){return d},set:function(a){d=a},enumerable:!0});var e;Object.defineProperty(this,"createdby",{get:function(){return e},set:function(a){e=a},enumerable:!0});var f;Object.defineProperty(this,"updatedby",{get:function(){return f},set:function(a){f=a},enumerable:!0});var g;Object.defineProperty(this,"createdat",{get:function(){return g},set:function(a){g=a},enumerable:!0});var h;Object.defineProperty(this,"updatedat",{get:function(){return h},set:function(a){h=a},enumerable:!0});var i;Object.defineProperty(this,"trash",{get:function(){return i},set:function(a){i=a},enumerable:!0})},YeSeul.entree=function(){},YeSeul.entree.doneCallback=function(a){alert(a?"failed":"succeeded")},YeSeul.dessert=function(){},YeSeul.wine=function(){},YeSeul.restaurant.firebase="https://gyosun.firebaseio.com/",YeSeul.restaurant.ref=new Firebase(YeSeul.restaurant.firebase),YeSeul.restaurant.owner=YeSeul.restaurant.ref.getAuth(),YeSeul.dessert.mustache=function(a,b,c){if(a&&c){var d;d=b&&"undefined"!=typeof b&&void 0!=typeof b&&b.length?{items:b}:b,$.get(a,function(a){var b=Mustache.render(a,d);$(c).html(b)})}else console.error('path is "'+a+'" and target is "'+c+'"')},YeSeul.menu.prototype.layout=function(){if(this.layoutRoute){var a,b=this.layoutRoute;for(a in b)b[a].run&&YeSeul.dessert.mustache(b[a].path,b[a].data(),b[a].target)}else console.error("No layoutRoute")},YeSeul.entree.prototype.firebase={childName:function(){return this.dbName?this.dbName:void console.error("Child Name is NULL")},loadingIcon:function(){return $("#loadingIcon")},loadData:function(a){if(YeSeul.restaurant.ref){var b=YeSeul.restaurant.ref.child(this.childName()),c=$.Deferred(),d=[];return"number"==typeof a?1===a||0===a?b.orderByChild("trash").equalTo(a).once("value",function(a){a.forEach(function(a){var b=a.val();b.key=a.key(),d.push(b)}),c.resolve(d)}):console.error("Number parameter can't be other than 1(deleted item) or 0"):b.once("value",function(a){a.forEach(function(a){var b=a.val();b.key=a.key(),d.push(b)}),c.resolve(d)}),"pending"===c.state()&&this.loadingIcon().show(),c.promise()}console.error("no Data Reference")},loadDatum:function(a){var b=YeSeul.restaurant.ref.child(this.childName()),c=$.Deferred();if(a)b.once("value",function(b){var d=b.child(a).val();d.key=b.child(a).key(),c.resolve(d)});else{var d={};c.resolve(d)}return"pending"===c.state()&&this.loadingIcon().show(),c.promise()},updateDatum:function(a,b){var c=YeSeul.restaurant.ref.child(this.childName()).child(b);c.update(a)},createDatum:function(a){var b=YeSeul.restaurant.ref.child(this.childName());b.push(a)},deleteDatum:function(a){var b=YeSeul.restaurant.ref.child(this.childName()).child(a);b.remove(YeSeul.entree.doneCallback)},sendDatumToTrash:function(a){var b={trash:1};this.updateDatum(b,a)},recoverDatum:function(a){var b={trash:0};this.updateDatum(b,a)}},YeSeul.entree.generic=new YeSeul.entree,YeSeul.entree.generic.Ctrl=function(a){var b=a.thisName;this.pageTitle=b;var c;YeSeul.dessert.mustache(a.renderTemplate,c,a.renderTarget)},YeSeul.wine.index=new YeSeul.wine,YeSeul.wine.index=function(){$("#showNavBtn").on("click",function(a){a.preventDefault(),$("#application").toggleClass("collapse")})},YeSeul.entree.blogs=new YeSeul.entree,YeSeul.entree.blogs.ctrl=function(a){var b=a.thisName,c=0;this.pageTitle=b,YeSeul.entree.blogs.firebase.dbName="blogs",YeSeul.entree.blogs.firebase.loadData(c).then(function(b){b.sort(YeSeul.ingredient.orderBy("desc","updatedat","fDateTime")),YeSeul.dessert.mustache(a.renderTemplate,b,a.renderTarget)}).done(function(){}).fail(function(){console.error(this+" :failed.")})},YeSeul.entree.blog=new YeSeul.entree,YeSeul.entree.blog.ctrl=function(a,b){var c=a.thisName;this.pageTitle=c,YeSeul.entree.blogs.firebase.dbName="blogs",YeSeul.entree.blogs.firebase.loadDatum(b).then(function(b){b.thisName=c,YeSeul.dessert.mustache(a.renderTemplate,b,a.renderTarget)}).done(function(){}).fail(function(){console.error(this+" :failed.")})},YeSeul.entree.contact=new YeSeul.entree,YeSeul.entree.contact.ctrl=function(a){var b=a.thisName;this.pageTitle=b;var c=[];YeSeul.dessert.mustache(a.renderTemplate,c,a.renderTarget)},YeSeul.wine.contact=new YeSeul.wine,YeSeul.wine.contact=function(){},YeSeul.entree.resumes=new YeSeul.entree,YeSeul.entree.resumes.ctrl=function(a){var b=a.thisName,c=0;this.pageTitle=b,YeSeul.entree.resumes.firebase.dbName="resumes",YeSeul.entree.resumes.firebase.loadData(c).then(function(b){b.reverse(),YeSeul.dessert.mustache(a.renderTemplate,b,a.renderTarget)}).done(function(){}).fail(function(){console.error(this+" :failed.")})},YeSeul.wine.resumes=new YeSeul.wine,YeSeul.wine.resumes=function(){var a=new Walkway({selector:"#gyosunLogoSimbol",duration:"7000",easing:function(a){return a*a}});$(document).ready(function(){if(0!=$(a.selector).length){var b=500;setTimeout(function(){a.draw()},b)}else console.error("The target does not exist.");window.innerWidth>768&&$(function(){var a,b,c=$(".resume-desc-col"),d=window.innerHeight,e=($(this).scrollTop(),[]),f=[];for(a=0;a<c.length;a++)e.push($(c[a]).attr("id")),f.push($(c[a]).offset().top-.9*d);$(document).scroll(function(){var a=$(this).scrollTop();for(b=1;b<=f.length;b++)if(a>=f[b-1]&&a<f[b]){var c=d*(b-1);$(".resume-img-col").css({transform:"translateY(-"+c+"px)","-webkit-transform":"translateY(-"+c+"px)","-moz-transform":"translateY(-"+c+"px)","-ms-transform":"translateY(-"+c+"px)","-o-transform":"translateY(-"+c+"px)"})}})}())})},YeSeul.menuGyosun=new YeSeul.menu,YeSeul.menuGyosun.layoutRoute={renderHeader:{run:!1,path:"./templates/partials/header.mst",data:function(){var a;return a},target:"#renderedHeader"},renderSidebar:{run:!1,path:"",data:function(){var a;return a},target:""},renderFooter:{run:!1,path:"./templates/partials/footer.mst",data:function(){var a={};return a},target:"#renderedFooter"},renderSidebar:{run:!0,path:"./templates/partials/nav.mst",data:function(){var a={};return a.year=YeSeul.ingredient.punchClock.year(),a.monthName=YeSeul.ingredient.punchClock.monthName(),a},target:"#renderedNav"}},YeSeul.menuGyosun.changeRoute=function(a){switch(a){case"":YeSeul.entree.resumes.ctrl(this.route.resumes);break;case"/":YeSeul.entree.resumes.ctrl(this.route.resumes);break;case"#work":YeSeul.entree.works.ctrl(this.route.works);break;case"#blog":YeSeul.entree.blogs.ctrl(this.route.blogs);break;case"#blog"+a.slice("#blog".length):var b=a.slice("#blog/?id=".length);YeSeul.entree.blog.ctrl(this.route.blog,b);break;case"#contact":YeSeul.entree.contact.ctrl(this.route.contact);break;default:YeSeul.entree.generic.Ctrl(this.route.fourofour)}},YeSeul.menuGyosun.route={fourofour:{thisName:"404",renderTemplate:"../templates/404.mst",renderTarget:"#renderedBody",onNav:!1},resumes:{thisName:"Resume",renderTemplate:"../component/resume/resume.mst",renderTarget:"#renderedBody",onNav:!1},works:{thisName:"Works",renderTemplate:"../component/work/work.mst",renderTarget:"#renderedBody",onNav:!1},blogs:{thisName:"Blogs",renderTemplate:"../component/blog/list.mst",renderTarget:"#renderedBody",onNav:!0},blog:{thisName:"Blog",renderTemplate:"../component/blog/detail.mst",renderTarget:"#renderedBody",onNav:!1},contact:{thisName:"Contact",renderTemplate:"../component/contact/contact.mst",renderTarget:"#renderedBody",onNav:!1}},YeSeul.menuGyosun.layout(),YeSeul.menuGyosun.run(),YeSeul.entree.works=new YeSeul.entree,YeSeul.entree.works.ctrl=function(a){var b=a.thisName;this.pageTitle=b;var c=[];YeSeul.dessert.mustache(a.renderTemplate,c,a.renderTarget)},YeSeul.wine.works=new YeSeul.wine,YeSeul.wine.works=function(){};
//# sourceMappingURL=gyosun.min.js.map